!function(e){function t(t){for(var o,a,u=t[0],s=t[1],c=t[2],l=0,h=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(d&&d(t);h.length;)h.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],o=!0,u=1;u<r.length;u++){var s=r[u];0!==n[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var o={},n={0:0},i=[];function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=s;i.push([5,1,2]),r()}([,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=function(){var e=this;this.road=[[45,53],[44,53],[44,52],[46,53],[46,52],[46,51],[46,50],[47,50],[48,48],[48,49],[48,50],[48,51],[48,52],[49,50],[50,50],[51,50],[51,52],[51,51],[52,50],[53,50],[53,51]],this.initMap=function(t,r){e.map=o.chunk(o.range(t*r).map((function(e){return{x:Math.floor(e/r),y:e%t,info:{}}})),t)}};t.store=new n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ROAD=0]="ROAD",e[e.TREE=1]="TREE"}(t.MESH_TYPE||(t.MESH_TYPE={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(6),i=document.getElementById("renderCanvas"),a=document.getElementById("fps"),u=new o.Engine(i,!0),s=n.createScene(u,i);u.runRenderLoop((function(){s.render(),a.textContent=u.getFps().toFixed()}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(7),i=r(9),a=r(11),u=r(12);t.createScene=function(e,t){var r=new o.Scene(e);return n.initMap(r,100,100),a.initCamera(r,t,100,100),r.createDefaultLight(!0),u.buildRoads(r),i.buildTrees(r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(1);t.initMap=function(e,t,r){var i=o.MeshBuilder.CreateGround("ground",{width:t,height:r},e),a=new o.StandardMaterial("ground-material",e);a.diffuseColor=new o.Color3(.462,.76,.404),i.material=a,i.position=new o.Vector3(t/2,0,r/2),n.store.initMap(t,r)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(0),i=r(10),a=r(3),u=r(1),s=r(4);t.buildTrees=function(e){o||(o=i.createTree(e),e.removeMesh(o)),a.range(a.random(100,300)).forEach((function(){var t=o.clone(),r=a.random(10,90),i=a.random(10,90);u.store.map[r][i].mesh?e.removeMesh(t):(u.store.map[r][i].mesh=t,u.store.map[r][i].meshType=s.MESH_TYPE.TREE,t.position=new n.Vector3(r,0,i),t.addRotation(0,a.random(0,Math.PI,!0),0))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.createTree=function(e){var t=new o.StandardMaterial("trunk",e);t.diffuseColor=new o.Color3(.37,.27,.207);var r=new o.StandardMaterial("leaf",e);r.diffuseColor=new o.Color3(.3,.45,.24);var n=o.MeshBuilder.CreateBox("trunk",{size:.2,height:.7},e);n.material=t,n.position=new o.Vector3(0,.35,0);var i=o.MeshBuilder.CreateBox("leaf",{size:.6,height:1},e);return i.material=r,i.position=new o.Vector3(0,1.2,0),o.Mesh.MergeMeshes([n,i],!0,!0,void 0,!1,!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.initCamera=function(e,t,r,n){new o.ArcRotateCamera("Camera",Math.PI/4,Math.PI/180*50,20,new o.Vector3(r/2,0,n/2),e).attachControl(t,!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(13),n=r(1),i=r(4),a=function(e){var t=e[0],r=e[1],a=[n.store.map[t+1][r].meshType,n.store.map[t][r-1].meshType,n.store.map[t-1][r].meshType,n.store.map[t][r+1].meshType],u=a.filter((function(e){return e===i.MESH_TYPE.ROAD})),s=n.store.map[t][r].info;4===u.length?s.type=o.ROAD_TYPE.CROSSROAD:3===u.length?s.type=o.ROAD_TYPE.T_INTERSECTION:2===u.length?a[0]===i.MESH_TYPE.ROAD&&a[2]===i.MESH_TYPE.ROAD?s.type=o.ROAD_TYPE.HORIZONTAL:a[1]===i.MESH_TYPE.ROAD&&a[3]===i.MESH_TYPE.ROAD?s.type=o.ROAD_TYPE.VERTICAL:(s.type=o.ROAD_TYPE.CONNER,a[0]===i.MESH_TYPE.ROAD&&a[1]===i.MESH_TYPE.ROAD?s.rotate=Math.PI/2:a[0]===i.MESH_TYPE.ROAD&&a[3]===i.MESH_TYPE.ROAD?s.rotate=2*Math.PI:a[1]===i.MESH_TYPE.ROAD&&a[2]===i.MESH_TYPE.ROAD?s.rotate=Math.PI:a[2]===i.MESH_TYPE.ROAD&&a[3]===i.MESH_TYPE.ROAD&&(s.rotate=Math.PI/2*3)):1===u.length&&(a[0]===i.MESH_TYPE.ROAD||a[2]===i.MESH_TYPE.ROAD?s.type=o.ROAD_TYPE.HORIZONTAL:s.type=o.ROAD_TYPE.VERTICAL)};t.buildRoads=function(e){n.store.road.forEach((function(e){var t=e[0],r=e[1];n.store.map[t][r].meshType=i.MESH_TYPE.ROAD})),n.store.road.forEach(a),n.store.road.forEach((function(t){var r=t[0],i=t[1];n.store.map[r][i].mesh=o.createRoad(e,r,i,n.store.map[r][i].info.type,n.store.map[r][i].info.rotate)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(0);!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL",e[e.CONNER=2]="CONNER",e[e.T_INTERSECTION=3]="T_INTERSECTION",e[e.CROSSROAD=4]="CROSSROAD"}(o=t.ROAD_TYPE||(t.ROAD_TYPE={})),t.ROAD_NAME="road";t.createRoad=function(e,r,i,a,u){void 0===a&&(a=o.HORIZONTAL),void 0===u&&(u=0);var s=new n.StandardMaterial("shoulder",e);s.diffuseColor=new n.Color3(.83,.79,.77);var c,d=new n.StandardMaterial("roadBed",e);return d.diffuseColor=new n.Color3(.43,.42,.44),[o.HORIZONTAL,o.VERTICAL].includes(a)&&(c=function(e,r){var o=r[0],i=r[1],a=n.MeshBuilder.CreateBox("shoulder",{width:1,height:.02,depth:.1},e);a.material=o;var u=a.clone(),s=n.MeshBuilder.CreatePlane("roadBed",{width:1,size:.8},e);s.material=i,a.position=new n.Vector3(0,.01,-.45),u.position=new n.Vector3(0,.01,.45),s.position=new n.Vector3(0,.001,0),s.rotation=new n.Vector3(Math.PI/2,0,0);var c=n.Mesh.MergeMeshes([a,u,s],!0,!0,void 0,!1,!0);return c.name=t.ROAD_NAME,c}(e,[s,d]),a===o.VERTICAL&&(c.rotation.y=Math.PI/2)),o.CONNER===a&&(c=function(e,r){var o=r[0],i=r[1],a=n.MeshBuilder.CreateBox("shoulder",{width:1,height:.02,depth:.1},e);a.material=o;var u=n.MeshBuilder.CreateBox("shoulderConner",{width:.1,height:.02,depth:.1},e);u.material=o;var s=n.MeshBuilder.CreatePlane("roadBed",{width:.9,height:.9},e);s.material=i,a.position=new n.Vector3(0,.01,-.45);var c=a.clone();c.rotation.y=Math.PI/2,c.position=new n.Vector3(-.45,.01,0),u.position=new n.Vector3(.45,.01,.45),s.position=new n.Vector3(.05,.001,.05),s.rotation.x=Math.PI/2;var d=n.Mesh.MergeMeshes([a,c,s,u],!0,!0,void 0,!1,!0);return d.name=t.ROAD_NAME,d}(e,[s,d])),o.T_INTERSECTION===a&&(c=function(e,r){var o=r[0],i=r[1],a=n.MeshBuilder.CreateBox("shoulder",{width:1,height:.02,depth:.1},e),u=n.MeshBuilder.CreateBox("shoulderConnerLeft",{width:.1,height:.02,depth:.1},e);a.material=o,u.material=o;var s=u.clone(),c=n.MeshBuilder.CreatePlane("roadBed",{width:1,height:.9},e);c.material=i,a.position=new n.Vector3(0,.01,-.45),u.position=new n.Vector3(.45,.01,.45),s.position=new n.Vector3(-.45,.01,.45),c.position=new n.Vector3(0,.001,.05),c.rotation.x=Math.PI/2;var d=n.Mesh.MergeMeshes([a,u,s,c],!0,!0,void 0,!1,!0);return d.name=t.ROAD_NAME,d}(e,[s,d])),o.CROSSROAD===a&&(c=function(e,r){var o=r[0],i=r[1],a=n.MeshBuilder.CreateBox("shoulderConner",{width:.1,height:.02,depth:.1},e);a.material=o;var u=a.clone(),s=a.clone(),c=a.clone(),d=n.MeshBuilder.CreatePlane("roadBed",{width:1,height:1},e);d.material=i,a.position=new n.Vector3(.45,.01,.45),u.position=new n.Vector3(-.45,.01,.45),s.position=new n.Vector3(.45,.01,-.45),c.position=new n.Vector3(-.45,.01,-.45),d.position.y=.001,d.rotation.x=Math.PI/2;var l=n.Mesh.MergeMeshes([d,a,u,s,c],!0,!0,void 0,!1,!0);return l.name=t.ROAD_NAME,l}(e,[s,d])),u&&(c.rotation.y=u),c.position=new n.Vector3(r,0,i),c}}]);